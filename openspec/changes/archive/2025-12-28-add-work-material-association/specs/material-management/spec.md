# material-management Specification - 素材多选面板

## 新增需求

### 需求：通用素材多选面板
系统必须提供一个通用的素材多选面板组件，支持在不同场景下选择多个素材。

#### 场景：打开素材多选面板
- **当** 系统调用 `openMaterialMultiSelectDialog` 函数
- **且** 传入允许的素材类型（可选）
- **则** 显示素材多选面板对话框
- **且** 如果指定了素材类型，只显示对应的筛选标签
- **且** 如果未指定或指定了所有类型，显示所有筛选标签（全部、人物、场景、道具、其他）
- **且** 默认显示"全部"标签的素材列表

#### 场景：多选素材
- **当** 用户在素材多选面板中
- **且** 点击一个素材项
- **则** 如果素材未被选中，将其添加到选中列表并显示勾选标记
- **且** 如果素材已被选中，将其从选中列表移除并隐藏勾选标记
- **且** 选中的素材显示视觉反馈（勾号图标、边框高亮）

#### 场景：筛选素材类型
- **当** 用户在素材多选面板中
- **且** 点击筛选标签（全部、人物、场景、道具、其他）
- **则** 加载对应类型的素材列表
- **且** 更新筛选标签的激活状态
- **且** 保持已选中的素材状态（即使切换筛选标签）

#### 场景：创建新素材
- **当** 用户在素材多选面板中
- **且** 点击"创建素材"按钮
- **则** 系统跳转到素材管理页面（`materials.html`）
- **且** 如果当前有筛选类型，通过 URL 参数传递类型信息
- **且** 素材管理页面可以检测参数并自动打开对应类型的创建面板

#### 场景：刷新素材列表
- **当** 用户在素材多选面板中
- **且** 点击"刷新"按钮
- **则** 系统重新加载当前筛选类型的素材列表
- **且** 保持已选中的素材状态（如果素材仍然存在）

#### 场景：确认选择
- **当** 用户在素材多选面板中选择了素材
- **且** 点击"确认"按钮
- **则** 系统返回选中的素材ID数组
- **且** 通过回调函数传递给调用者
- **且** 关闭对话框

#### 场景：取消选择
- **当** 用户在素材多选面板中
- **且** 点击"取消"按钮或关闭按钮
- **则** 系统关闭对话框
- **且** 不返回任何选中的素材

### 需求：素材多选面板的视觉反馈
系统必须在素材多选面板中提供清晰的视觉反馈，显示哪些素材已被选中。

#### 场景：显示选中状态
- **当** 素材被选中时
- **则** 素材项显示勾号图标（通常在右上角）
- **且** 素材项的边框高亮显示（如蓝色边框）
- **且** 素材项可能有背景色变化（如浅蓝色背景）

#### 场景：显示未选中状态
- **当** 素材未被选中时
- **则** 素材项不显示勾号图标
- **且** 素材项使用默认边框样式
- **且** 素材项使用默认背景色

