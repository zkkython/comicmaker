## 1. 测试框架和基础设施
- [x] 1.1 安装测试依赖（pytest, httpx 等）
- [x] 1.2 创建测试目录结构 `server/tests/`
- [x] 1.3 创建测试工具模块 `server/tests/utils.py`（测试客户端、数据清理等）
- [x] 1.4 创建测试数据管理模块 `server/tests/fixtures.py`（测试作品、剧集等）

## 2. 素材管理 API 测试
- [x] 2.1 测试人物角色 CRUD 操作
- [x] 2.2 测试场景 CRUD 操作
- [x] 2.3 测试道具 CRUD 操作
- [x] 2.4 测试文件上传和验证
- [x] 2.5 测试错误处理（无效类型、缺失资源等）

## 3. 作品管理 API 测试
- [x] 3.1 测试作品列表和详情查询
- [x] 3.2 测试作品创建和更新
- [x] 3.3 测试作品删除
- [x] 3.4 测试封面图片上传
- [x] 3.5 测试宽高比设置验证

## 4. 剧集管理 API 测试
- [x] 4.1 测试剧集列表和详情查询
- [x] 4.2 测试剧集创建和更新
- [x] 4.3 测试剧集删除
- [x] 4.4 测试脚本保存和读取
- [x] 4.5 测试分镜脚本生成和读取

## 5. 内容生成 API 测试
- [x] 5.1 测试分镜生成接口
- [x] 5.2 测试图片生成接口
- [x] 5.3 测试图片选择接口
- [x] 5.4 测试视频生成接口
- [x] 5.5 测试音频生成接口
- [x] 5.6 测试提示词更新接口
- [x] 5.7 测试分镜详情查询接口

## 6. 测试脚本入口
- [x] 6.1 创建 `server/tests/run_tests.py` 主入口脚本
- [x] 6.2 实现测试用例发现和执行
- [x] 6.3 实现测试结果收集和输出（通过/失败统计）
- [x] 6.4 支持按模块执行测试
- [x] 6.5 支持测试数据清理选项

## 7. 前端测试页面
- [x] 7.1 创建 `apps/web/test-api.html` 测试页面
- [x] 7.2 实现测试用例列表展示
- [x] 7.3 实现单个用例执行按钮和结果展示
- [x] 7.4 实现全局执行按钮和批量结果展示
- [x] 7.5 实现测试详情查看（输入输出、请求响应）
- [x] 7.6 实现测试状态可视化（通过/失败/运行中）
- [x] 7.7 创建测试 API 客户端 `apps/web/js/test-api.js`

## 8. 后端测试 API
- [x] 8.1 创建测试 API 路由 `server/api/test.py`
- [x] 8.2 实现测试用例列表接口
- [x] 8.3 实现单个用例执行接口
- [x] 8.4 实现批量执行接口
- [x] 8.5 实现测试结果详情接口

